<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo List</title>
    <link rel="stylesheet" href="{{url_for('static', filename='style.css')}}" />
</head>
<body>
    <h1 class="page_title">Todo list</h1>
    <form action="{{ url_for('create_task') }}" method="POST" class="new_todo_form">
        <div>
            <label for="input_task">Task name</label>
            <input id="input_task" type="text" name="title" placeholder="Input task name" class="todo_input" />
            <br />
            <button type="submit" class="add_todo_btn">Add</button>
        </div>
    </form>
    <section class="todo_section">
        {% for message in get_flashed_messages() %}
        <div class="info_message">
            {{ message }}
        </div>
        {% endfor %}
        
        {% if all_complited %}
        <p class="todo_completed">All tasks are completed</p>
        {% endif %}
        
        {% for el in todo_list %}
        <div class="todo">
            <div class="todo_info">
                <p class="todo_title">{{ el.id }} - {{ el.title }}</p>
                {% if el.complited == False %}
                <span class="todo_badge todo_not_completed">Not completed</span>
                {% else %}
                <span class="todo_badge todo_completed">Completed</span>
                {% endif %}
            </div>
            <div>
                <a href="/update/{{ el.id }}" class="link update_link">Update</a>
                <a href="/delete/{{ el.id }}" class="link delete_link">Delete</a>
            </div>
        </div>
        {% endfor %}
    </section>
</body>
</html>